global pshufb_ejemplo


section .data
ALIGN 16
pi: DD 3.141592653, 3.141592653, 3.141592653, 3.141592653

data_ejemplo: DD 0xAAAAAAAA, 0xBBBBBBBB, 0xCCCCCCCC, 0xDDDDDDDD

data_ejemplo_pshufb:
                    DB 0x00, 0x01, 0x02, 0x03,
                    DB 0x04, 0x05, 0x06, 0x07,
                    DB 0xF0, 0xF1, 0xF2, 0xF3,
                    DB 0xF4, 0xF5, 0xF6, 0xF7

valor:
                    DB 0x00, 0x01, 0x02, 0x03,
                    DB 0x04, 0x05, 0x06, 0x07,
                    DB 0x08, 0x09, 0x0a, 0x0b,
                    DB 0x0c, 0x0d, 0x0e, 0x0F

pshufb_mask:
            DB 0x0F, 0x0E, 0x0D, 0x0C,
            DB 0x0B, 0x0A, 0x09, 0x08,
            DB 0x07, 0x06, 0x05, 0x04,
            DB 0x03, 0x02, 0x01, 0x00

cualquiera: DB 0xAA, 0xAA, 0xAA, 0xBB ;510 1FE
            DB 0xCC, 0xCC, 0xCC, 0xDD ;612 264
            DB 0xEE, 0xEE, 0xEE, 0xFF; 714 2Ca
            DB 0x02, 0x02, 0x02, 0x11; 0x08 0x08

es96: dw 96,96,96,96,96,96,96,96
es64: dw 64,64,64,64,64,64,64,64
es1: dw 1,1,1,1,1,1,1,1
acomodarBarras:
            DB 0x03, 0x03, 0x03, 0x03,
            DB 0x07, 0x07, 0x07, 0x07,
            DB 0x0B, 0x0B, 0x0B, 0x0B,
            DB 0x0F, 0x0F, 0x0F, 0x0F
            

section .text


pshufb_ejemplo:
    push rbp
    mov rbp, rsp
    movdqu xmm15, [data_ejemplo_pshufb]
    movdqu xmm14, [valor]
    pshufb xmm14, xmm15
    ret